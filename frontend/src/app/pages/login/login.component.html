<!-- partial:index.partial.html -->
<div class="body" style="margin-bottom: 300px">
  <form *ngIf="!loggedIn" [formGroup]="authForm" (ngSubmit)="loginUser()">
    <div class="form-field">
      <input
        type="text"
        placeholder="Username"
        id="username"
        name="username"
        required
        formControlName="username"
      />
    </div>
    <div class="alert alert-danger">
      {{ message }}
    </div>
    <div
      *ngIf="username?.invalid && (username?.dirty || username?.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="username?.errors?.['required']">
        Adja meg a felhasználónevet.
      </div>
      <div *ngIf="username?.errors?.['minlength']">
        A felhasználónév legalább 4 karakter legyen
      </div>
    </div>

    <div class="form-field pass">
      <input
        type="password"
        id="password"
        placeholder="Password"
        name="password"
        formControlName="password"
        required
        minlength="4"
      />
    </div>
    <div
      *ngIf="password?.invalid && (password?.dirty || password?.touched)"
      class="alert alert-danger"
    >
      <div *ngIf="password?.errors?.['required']">Adja meg a jelszót.</div>
      <div *ngIf="password?.errors?.['minlength']">
        A jelszó legalább 4 karakter legyen
      </div>
    </div>
    <div *ngIf="invalidCredentials" class="alert alert-danger">
      {{ message }}
    </div>
    <div class="form-field">
      <button class="btn" type="submit">Log in</button>
    </div>
  </form>
  <div
    *ngIf="loggedIn"
    style="
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    "
  >
    <h2>Bejelentkezve</h2>
    <button mat-stroked-button (click)="logout()">Kijelentkezés</button>
  </div>
</div>
